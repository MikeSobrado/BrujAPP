<!DOCTYPE html><!DOCTYPE html>
<html lang="es">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrujAPP - Gestor de Estrategias y Riesgos para Trading</title>
    <meta name="description" content="BrujAPP es una potente herramienta de trading para gestionar tus estrategias, calcular riesgos, registrar operaciones y maximizar ganancias. Crea perfiles personalizados para scalping, swinging o activos como BTC y ETH.">
    <meta name="keywords" content="trading, gestión de riesgo, brujapp, trading journal, perfil de trading, apalancamiento, stop loss, take profit, comisiones, criptomonedas, forex, análisis técnico, RSI, MACD, scalping, swinging">
    <meta name="apple-mobile-web-app-title" content="BrujAPP">
    <meta name="author" content="Mike Sobrado">
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="BrujAPP - Tu Asistente de Trading Personal">
    <meta property="og:description" content="BrujAPP es una potente herramienta de trading para gestionar tus estrategias, calcular riesgos, registrar operaciones y maximizar ganancias.">
    <meta property="og:image" content="https://github.com/MikeSobrado/BrujAPP/blob/7a9e273315b472c2c084d3ea53f850995df2ce7f/Im%C3%A1genes/Banner.png">
    <meta property="og:url" content="https://mikesobrado.github.io/BrujAPP/">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BrujAPP - Tu Asistente de Trading Personal">
    <meta name="twitter:description" content="BrujAPP es una potente herramienta de trading para gestionar tus estrategias, calcular riesgos y maximizar ganancias.">
    <meta name="twitter:image" content="https://github.com/MikeSobrado/BrujAPP/blob/7a9e273315b472c2c084d3ea53f850995df2ce7f/Im%C3%A1genes/Redes.png">

    <!-- Librería Chart.js para los gráficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- WEBMANIFEST -->

    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/MikeSobrado/BrujAPP/main/Favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="https://raw.githubusercontent.com/MikeSobrado/BrujAPP/main/Favicon/favicon.svg" />
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/MikeSobrado/BrujAPP/main/Favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/MikeSobrado/BrujAPP/main/Favicon/apple-touch-icon.png" />
    <link rel="manifest" href="https://raw.githubusercontent.com/MikeSobrado/BrujAPP/main/Favicon/site.webmanifest" />
    <link rel="stylesheet" href="css/styles.css">
    
</head>
<body>

    <!-- VENTANA MODAL DE BIENVENIDA -->
<div id="welcome-modal" class="modal-overlay">
    <div class="modal-content">
        <h2>¡Bienvenido a BrujAPP!</h2>
        <p>
            Crea perfiles para diferentes estrategias o activos. Scalping, swinging, BTC, ETH, alta/baja volatilidad, etc.
        </p>
        <p>
            Gestiona tus trades, calcula tus gastos, gestiona tu riesgo, minimiza pérdidas y maximiza ganancias.
        </p>
        <button id="close-modal-btn" class="modal-close-btn">¡Entendido, empezar!</button>
    </div>
</div>

    <!-- VENTANA MODAL DE NOTAS -->
<div id="notes-modal" class="modal-overlay">
    <div class="modal-content">
        <h3>Notas de la Operación</h3>
        <textarea id="notes-modal-textarea" placeholder="Escribe tus notas aquí..."></textarea>
        <button id="save-notes-btn" class="modal-close-btn">Guardar y Cerrar</button>
    </div>
</div>

    <!-- CONTENEDOR DE PESTAÑAS -->
    <div class="tabs-container">
        <button class="tab-button active" data-tab-target="asistente-tab">BrujAPP</button>
        <button class="tab-button" data-tab-target="riesgo-tab">G. Riesgo</button>
        <button class="tab-button" data-tab-target="registro-tab">Registro</button>
        <button class="tab-button" data-tab-target="mercado-tab">Mercado</button>
        <button class="tab-button" data-tab-target="noticias-tab">Noticias</button>
        <button class="tab-button" data-tab-target="ajustes-tab">
            <svg class="settings-icon" viewBox="0 0 24 24">
                <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
            </svg>
        </button>
    </div>

    <!-- CONTENEDOR DEL CONTENIDO DE LAS PESTAÑAS -->
    <div class="content-wrapper">
        
        <!-- PESTAÑA 1: BRUJAPP -->
        <div id="asistente-tab" class="tab-content active">
            <!-- Gestor de Perfiles -->
            <div class="profile-manager">
                <div class="profile-selector">
                    <select id="profile-select">
                        <!-- Las opciones se cargarán con JavaScript -->
                    </select>
                </div>
                <div class="profile-actions">
                    <button id="new-profile-btn">Nuevo</button>
                    <button id="download-profiles-btn" title="Descargar perfiles">⬇</button>
                    <button id="upload-profiles-btn" title="Cargar perfiles">⬆</button>
                    <button id="delete-profile-btn">Eliminar</button>
                    <button id="rename-profile-btn">Renombrar</button>
                    <button id="add-indicator-btn">Añadir Indicador</button>
                </div>
            </div>
            
            <div class="indicators-panel">
                <h1>BrujAPP</h1>
                <ul class="indicator-list" id="indicator-list">
                    <!-- Los indicadores se cargarán dinámicamente con JavaScript -->
                </ul>
            </div>

           <!-- PANEL DE DECISIÓN -->
            <div class="decision-panel">
                <div class="decision-icons-container">
                    <div class="decision-item decision-buy" id="buy-signal">
                        <svg class="decision-icon" viewBox="0 0 24 24"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.85-1.26l3.03-7.08c.09-.23.12-.47.12-.66v-2z"/></svg>
                        <input type="number" class="threshold-input" id="green-threshold" value="40" min="1">
                        <span class="decision-label">LONG</span>
                    </div>
                    <div class="decision-item decision-wait active" id="wait-signal">
                        <svg class="decision-icon" viewBox="0 0 24 24"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"/></svg>
                        <span class="decision-label">ESPERA</span>
                    </div>
                    <div class="decision-item decision-sell" id="sell-signal">
                        <svg class="decision-icon" viewBox="0 0 24 24"><path d="M15 3H6c-.83 0-1.54.5-1.85 1.26l-3.03 7.08c-.09.23-.12.47-.12.66v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"/></svg>
                        <input type="number" class="threshold-input" id="red-threshold" value="40" min="1">
                        <span class="decision-label">SHORT</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTAÑA 2: GESTIÓN DE RIESGO -->
        <div id="riesgo-tab" class="tab-content">
            <div class="risk-tools-container">
                <h2>Gestión de Riesgo</h2>
                
                <!-- Herramienta 1: Calculadora de Stop Loss y Take Profit -->
                <div class="risk-tool">
                    <h3>Calculadora de Stop Loss y Take Profit</h3>
                    <p>
                        Esta herramienta te ayuda a calcular el tamaño de tu posición, stop loss y take profit basado en tu capital total, apalancamiento y porcentaje de riesgo. 
                        Sigue estos pasos:
                    </p>
                    <ol>
                        <li>Introduce tu capital total y el apalancamiento que usarás</li>
                        <li>Ajusta el porcentaje de tu cuenta que estás dispuesto a arriesgar</li>
                        <li>Establece el valor de Stop Loss deseado</li>
                        <li>Configura tu Risk Reward Ratio y pérdida máxima deseada</li>
                        <li>La herramienta calculará automáticamente los valores necesarios</li>
                    </ol>
                    
                    <table class="risk-tool-table">
                        <thead>
                            <tr>
                                <th>Parámetro</th>
                                <th>Valor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>CAPITAL TOTAL</td>
                                <td><input type="number" id="capital-total" value="1000" min="0"></td>
                            </tr>
                            <tr>
                                <td>APALANCAMIENTO</td>
                                <td><input type="number" id="apalancamiento" value="15" min="1"></td>
                            </tr>
                            <tr>
                                <td>% DE LA CUENTA</td>
                                <td><input type="number" id="porcentaje-cuenta" value="3" min="0" max="100" step="0.1"></td>
                            </tr>
                            <tr>
                                <td>STOP LOSS (%)</td>
                                <td><input type="number" id="stop-loss" value="2" min="0" step="0.1"></td>
                            </tr>
                            <tr>
                                <td>RISK REWARD RATIO DESEADO</td>
                                <td><input type="number" id="risk-reward-ratio" value="2" min="1"></td>
                            </tr>
                            <tr>
                                <td>PÉRDIDA MÁXIMA DESEADA (%)</td>
                                <td><input type="number" id="perdida-maxima" value="2" min="0" step="0.1"></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="result-display">
                        <div class="result-item">
                            <span class="result-label">Capital:</span>
                            <span class="result-value" id="sl-tp-capital">$30.00</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Take Profit:</span>
                            <span class="result-value" id="sl-tp-tp">4.00%</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Pérdida ($):</span>
                            <span class="result-value" id="sl-tp-perdida-dolares">$9.00</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">% Pérdida:</span>
                            <span class="result-value" id="sl-tp-perdida">0.90%</span>
                        </div>
                    </div>
                    
                    <!-- Botón de calcular eliminado para actualización automática -->
                </div>
                
                <!-- Herramienta 2: Ratio de cobertura de comisiones -->
                <div class="risk-tool">
                    <h3>Cálculo de Costes y Ganancia Mínima</h3>
                    <p>
                        Esta herramienta calcula el coste total de una operación (comisiones, financiación y spread) y el porcentaje de ganancia mínimo sobre tu capital arriesgado (margen) necesario para cubrir dichos costes.
                        <br><strong>Nota:</strong> El apalancamiento y el capital se toman automáticamente de la calculadora de SL y TP.
                    </p>
                    
                    <table class="risk-tool-table">
                        <thead>
                            <tr>
                                <th>Parámetro</th>
                                <th>Valor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>COMISIÓN (%)</td>
                                <td><input type="number" id="comision" value="0.06" min="0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>FINANCIACIÓN ($)</td>
                                <td><input type="number" id="financiacion" value="0" min="0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>SPREAD ($)</td>
                                <td><input type="number" id="spread" value="0" min="0" step="0.01"></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="result-display">
                        <div class="result-item">
                            <span class="result-label">% Ganancia Mínima:</span>
                            <span class="result-value" id="porcentaje-cubrir">1.95%</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Coste Comisiones ($):</span>
                            <span class="result-value" id="comision-dolares">$36.00</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Gastos Totales ($):</span>
                            <span class="result-value" id="gastos-dolares">$39.00</span>
                        </div>
                    </div>
                    
                    <!-- Botón de calcular eliminado para actualización automática -->
                </div>
            </div>
        </div>

        <!-- PESTAÑA 3: REGISTRO DE OPERACIONES -->
        <div id="registro-tab" class="tab-content">
            <div class="journal-panel">
                <h2>Registro de Operaciones</h2>
                <div class="journal-table-container">
                    <table class="journal-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Activo</th>
                                <th>Posición</th>
                                <th>Monto</th>
                                <th>Entrada</th>
                                <th>Salida</th>
                                <th>ROI (%)</th>
                                <th>Notas</th>
                                <th>Borrar</th>
                            </tr>
                        </thead>
                        <tbody id="journal-tbody">
                            <!-- Las filas se añadirán aquí con JavaScript -->
                        </tbody>
                    </table>
                </div>
                <div class="journal-actions">
                    <button class="add-trade-btn" id="add-trade-btn">Añadir Operación</button>
                    <button class="download-csv-btn" id="download-csv-btn">Descargar CSV</button>
                </div>
            </div>
        </div>

                               <!-- PESTAÑA 4: MERCADO -->
        <div id="mercado-tab" class="tab-content">
            <div class="market-container">
                <h2>Panel de Mercado</h2>
                
                <!-- Advanced Real-Time Chart -->
                <div class="market-section">
                    <h3>Gráfico Avanzado en Tiempo Real</h3>
                    <div id="tradingview-advanced-chart" style="height: 600px; width: 100%;"></div>
                </div>

                <!-- Cryptocurrency Market (Crypto Screener) -->
                <div class="market-section">
                    <h3>Mercado de Criptomonedas</h3>
                    <div id="btc-overview-widget" style="height: 150px; width: 100%;"></div>
                    <div id="crypto-screener-widget" style="height: 500px; width: 100%;"></div>
                </div>
                
                <!-- Contenedor 3: Datos de Mercado y Calendario Económico juntos -->
                <div class="market-section market-data-calendar-container">
                    <div id="market-overview-widget" style="height: 550px; width: 100%;"></div>
                    <div id="economic-calendar-widget" style="height: 550px; width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- PESTAÑA 5: NOTICIAS -->
        <div id="noticias-tab" class="tab-content">
            <div class="news-panel">
                <h2>Noticias del Mercado</h2>
                <div class="news-container">
                    <div class="news-filters">
                        <button class="news-filter active" data-category="general">Bitcoi.com</button>
                        <button class="news-filter" data-category="cryptocurrency">CoinJournal</button>
                        <button class="news-filter" data-category="forex">Forex</button>
                        <button class="news-filter" data-category="stocks">Investing</button>
                        <button class="news-filter" data-category="custom">Personalizado</button>
                    </div>
                    
                    <div id="news-content">
                        <div class="news-loading">
                            <div class="news-loading-spinner"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTAÑA 6: AJUSTES -->
        <div id="ajustes-tab" class="tab-content">
            <div class="settings-container">
                <h2>Ajustes de la Aplicación</h2>
                
                <div class="settings-section">
                    <h3>Personalización</h3>
                    
                    <div class="settings-item">
                        <label for="theme-selector">Tema de la Aplicación</label>
                        <select id="theme-selector">
                            <option value="dark">Oscuro</option>
                            <option value="light">Claro</option>
                        </select>
                    </div>

                    <div class="settings-item">
                        <label for="font-size-slider">Tamaño de Fuente: <span id="font-size-value">100%</span></label>
                        <input type="range" id="font-size-slider" min="80" max="130" value="100" step="5">
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Configuración de Noticias</h3>
                    
                    <div class="settings-item">
                        <label for="rss-feed-url">URL de Feed RSS Personalizado</label>
                        <input type="text" id="rss-feed-url" placeholder="Introduce la URL de un feed RSS">
                        <p>
                            Usa los botones de arriba para cambiar entre fuentes predefinidas.
                            <br><br>
                            <strong>Para usuarios avanzados:</strong> Introduce la URL de un feed RSS personalizado a continuación.
                        </p>
                    </div>
                    
                    <button id="save-settings-btn" class="save-settings-btn">Guardar Configuración</button>
                    <div id="settings-success" class="settings-success">
                        ¡Configuración guardada correctamente!
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Gestión de Datos</h3>
                    
                    <div class="settings-item">
                        <p>Exporta una copia de seguridad de todos tus datos (perfiles, registro de operaciones y ajustes).</p>
                        <button id="export-all-btn" class="save-settings-btn">Exportar Todos los Datos</button>
                    </div>

                    <div class="settings-item danger-zone">
                        <p><strong>¡Cuidado!</strong> Esta acción borrará permanentemente todos tus datos de esta aplicación y no se puede deshacer.</p>
                        <button id="reset-app-btn" class="reset-btn">Restablecer Configuración</button>
                    </div>
                </div>
            </div>
        </div>

    </div> <!-- Cierre de content-wrapper -->
    
    <!-- Scripts de la aplicación -->
<script src="js/profiles.js"></script>
<script src="js/risk.js"></script>
<script src="js/journal.js"></script>
<script src="js/news.js"></script>
<script src="js/settings.js"></script>
<script src="js/market.js"></script>
<script src="js/tabs.js"></script>
<script src="https://cdn.jsdelivr.net/npm/rss-parser@3.12.0/dist/rss-parser.min.js"></script>
<script src="js/main.js"></script>

</body>
</html>
